import boto3
from botocore.exceptions import ClientError

# === CONFIGURE YOUR VALUES HERE ===
BUCKET_NAME = 'autosecure-input'       # Replace with your actual bucket
OBJECT_KEY = 'AgentAI.zip'             # The exact object name (case-sensitive)

# === INITIALIZE S3 CLIENT ===
s3 = boto3.client('s3')

# === CHECK IF OBJECT EXISTS ===
try:
    response = s3.head_object(Bucket=BUCKET_NAME, Key=OBJECT_KEY)
    print(f"‚úÖ File FOUND in S3 bucket '{BUCKET_NAME}': {OBJECT_KEY}")
    print("üîç File metadata:")
    print({
        "Content-Length": response["ContentLength"],
        "Content-Type": response["ContentType"],
        "Last-Modified": str(response["LastModified"]),
        "ETag": response["ETag"]
    })

except ClientError as e:
    error_code = int(e.response['Error']['Code'])
    if error_code == 404:
        print(f"‚ùå ERROR: File '{OBJECT_KEY}' NOT FOUND in bucket '{BUCKET_NAME}'")
    else:
        print(f"‚ö†Ô∏è Unexpected error: {e}")
